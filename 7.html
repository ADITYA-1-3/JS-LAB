<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stopwatch</title>
</head>
<body>
  <div id="display">00:00.00</div>
  <button id="startBtn">Start</button>
  <button id="stopBtn">Stop</button>
  <button id="resetBtn">Reset</button>

  <script>
    let timer, startTime = 0, elapsed = 0, running = false;
    const display = document.getElementById('display');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtn = document.getElementById('resetBtn');

    function start() {
      if (running) return;
      running = true;
      startTime = Date.now() - elapsed;
      timer = setInterval(update, 10);
    }

    function stop() {
      if (!running) return;
      running = false;
      clearInterval(timer);
    }

    function reset() {
      stop();
      elapsed = 0;
      display.textContent = format(elapsed);
    }

    function update() {
      elapsed = Date.now() - startTime;
      display.textContent = format(elapsed);
    }

    function format(time) {
      const totalSec = Math.floor(time / 1000);
      const min = String(Math.floor(totalSec / 60)).padStart(2, '0');
      const sec = String(totalSec % 60).padStart(2, '0');
      const ms = String(Math.floor((time % 1000) / 10)).padStart(2, '0');
      return `${min}:${sec}.${ms}`;
    }

    startBtn.addEventListener('click', start);
    stopBtn.addEventListener('click', stop);
    resetBtn.addEventListener('click', reset);
  </script>
</body>
</html>
